<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extrator de Documentos - 2Âº CartÃ³rio do OfÃ­cio - Santa InÃªs</title>
    <meta name="description" content="Ferramenta profissional para extraÃ§Ã£o de dados de documentos de identificaÃ§Ã£o - 2Âº CartÃ³rio do OfÃ­cio - Santa InÃªs">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iIzMxNzNkYyIvPgo8cGF0aCBkPSJNOCAxMGgxNnYySDh2LTJ6bTAgNGgxMnYySDh2LTJ6bTAgNGgxNnYySDh2LTJ6IiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K">
    
    
</head>

<body>
    <div class="container">
        <!-- Header com Logo -->
        <div class="header">
            <img src="/assets/cartorio.png" alt="2Âº CartÃ³rio do OfÃ­cio - Santa InÃªs" class="logo">
            <h1>Extrator de Documentos</h1>
            <p>2Âº CartÃ³rio do OfÃ­cio - Santa InÃªs - Ferramenta profissional para extraÃ§Ã£o automatizada de dados de documentos</p>
        </div>

        <!-- InstruÃ§Ãµes de Uso -->
        <div class="instructions">
            <h4>ğŸ“‹ Como usar a ferramenta:</h4>
            <ol>
                <li><strong>Opcional:</strong> Escolha e configure uma API (Claude ou Gemini) para extraÃ§Ã£o automÃ¡tica</li>
                <li><strong>Carregar:</strong> Clique na Ã¡rea de upload ou arraste o documento (RG, CPF, CNH, etc.)</li>
                <li><strong>Processar:</strong> Clique em "Extrair Dados" para iniciar o processamento</li>
                <li><strong>Preencher:</strong> Complete os campos manualmente usando a prÃ©-visualizaÃ§Ã£o (se necessÃ¡rio)</li>
                <li><strong>Copiar:</strong> Use os botÃµes "Copiar" para transferir dados para seu sistema</li>
            </ol>
        </div>

        <!-- SeÃ§Ã£o da API -->
        <div id="apiSection" class="api-section">
            <h3>ğŸ”‘ ConfiguraÃ§Ã£o de API para ExtraÃ§Ã£o AutomÃ¡tica (Opcional)</h3>
            
            <div id="apiDisabledState">
                <div class="api-status disabled">
                    âšª API Desabilitada - Modo Manual Ativo
                </div>
                <div class="api-controls">
                    <button id="enableApiBtn" class="btn btn-primary">ğŸ”“ Habilitar API para ExtraÃ§Ã£o AutomÃ¡tica</button>
                </div>
            </div>
            
            <div id="apiInputState" style="display: none;">
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--accent-cyan);">
                        Escolha o provedor de IA:
                    </label>
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="radio" name="apiProvider" value="claude" checked style="accent-color: var(--accent-cyan);">
                            <span>ğŸ¤– Claude (Anthropic)</span>
                        </label>
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="radio" name="apiProvider" value="gemini" style="accent-color: var(--accent-cyan);">
                            <span>ğŸ’ Gemini (Google)</span>
                        </label>
                    </div>
                </div>
                
                <div id="claudeApiInput">
                    <label for="apiKey">Cole sua chave da API Claude:</label>
                    <input 
                        type="password" 
                        id="apiKey" 
                        class="api-input" 
                        placeholder="sk-ant-api03-..." 
                    >
                    <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 15px;">
                        Obtenha em: <a href="https://console.anthropic.com" target="_blank" style="color: var(--accent-cyan);">console.anthropic.com</a>
                    </p>
                </div>
                
                <div id="geminiApiInput" style="display: none;">
                    <label for="geminiKey">Cole sua chave da API Gemini:</label>
                    <input 
                        type="password" 
                        id="geminiKey" 
                        class="api-input" 
                        placeholder="AIza..." 
                    >
                    <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 15px;">
                        Obtenha em: <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: var(--accent-cyan);">aistudio.google.com</a>
                    </p>
                </div>
                
                <div class="api-controls">
                    <button id="confirmApiBtn" class="btn btn-success">âœ… Confirmar e Ativar</button>
                    <button id="cancelApiBtn" class="btn btn-secondary">âŒ Cancelar</button>
                </div>
            </div>
            
            <div id="apiEnabledState" style="display: none;">
                <div class="api-status enabled">
                    <span id="providerStatus">âœ… API Habilitada - ExtraÃ§Ã£o AutomÃ¡tica Ativa</span>
                </div>
                <div class="api-controls">
                    <button id="disableApiBtn" class="btn btn-danger">ğŸ”’ Desabilitar API</button>
                </div>
            </div>
            
            <p style="margin-top: 20px; font-size: 0.9rem; color: var(--text-muted); border-top: 1px solid rgba(49, 115, 220, 0.2); padding-top: 15px;">
                <strong>Sem API:</strong> Campos editÃ¡veis para preenchimento manual<br>
                <strong>Com Claude:</strong> ExtraÃ§Ã£o de alta precisÃ£o com IA avanÃ§ada<br>
                <strong>Com Gemini:</strong> ExtraÃ§Ã£o rÃ¡pida e eficiente do Google
            </p>
        </div>

        <!-- Ãrea de Upload -->
        <div class="upload-area" onclick="document.getElementById('fileInput').click()">
            <div class="upload-icon">ğŸ“„</div>
            <h3>Carregar Documento</h3>
            <p>Clique aqui ou arraste o arquivo para esta Ã¡rea</p>
            <p style="font-size: 0.9rem; color: var(--text-muted);">Suporte para JPG, PNG e PDF (mÃ¡ximo 10MB)</p>
            <button class="btn btn-primary" type="button" style="margin-top: 15px;">ğŸ“ Selecionar Arquivo</button>
            <input type="file" id="fileInput" accept="image/*,.pdf">
        </div>

        <!-- InformaÃ§Ãµes do Arquivo -->
        <div id="fileInfo" class="file-info">
            <h4>ğŸ“„ Arquivo Carregado</h4>
            <p><strong>Nome:</strong> <span id="fileName"></span></p>
            <p><strong>Tamanho:</strong> <span id="fileSize"></span></p>
            <div style="margin-top: 15px;">
                <button id="extractBtn" class="btn btn-success">ğŸ” Extrair Dados do Documento</button>
            </div>
        </div>

        <!-- Alertas -->
        <div id="alertContainer"></div>
        
        <!-- Loading -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <span id="loadingText">Processando documento...</span>
        </div>

        <!-- Grid de ConteÃºdo -->
        <div id="contentGrid" class="content-grid" style="display: none;">
            <!-- PrÃ©-visualizaÃ§Ã£o -->
            <div class="section-card">
                <h3>ğŸ‘ï¸ PrÃ©-visualizaÃ§Ã£o do Documento</h3>
                <div id="preview"></div>
            </div>
            
            <!-- Dados ExtraÃ­dos -->
            <div class="section-card">
                <h3>ğŸ“‹ Dados para ExtraÃ§Ã£o</h3>
                <div id="extractedData"></div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>&copy; 2025 2Âº CartÃ³rio do OfÃ­cio - Santa InÃªs</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">Ferramenta Profissional de ExtraÃ§Ã£o de Documentos</p>
        </div>

<script type="module" src="/js/app.js"></script>
</body>
</html>
